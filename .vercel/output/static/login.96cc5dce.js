import{S as q,i as B,s as G,e as d,c as f,b as p,f as r,h as _,k,o as u,x as S,q as Y,u as N,v as A,t as g,a as $,d as v,g as C,l as i,n as O,r as M}from"./chunks/index.d6ca2185.js";import{s as U}from"./chunks/backend.3a7ea2ee.js";import"./chunks/_commonjsHelpers.eeb557de.js";function V(n){let e,t={ctx:n,current:null,token:null,hasCatch:!0,pending:z,then:j,catch:W,error:4};return Y(n[1](),t),{c(){e=N(),t.block.c()},l(a){e=N(),t.block.l(a)},m(a,l){k(a,e,l),t.block.m(a,t.anchor=l),t.mount=()=>e.parentNode,t.anchor=e},p(a,l){n=a,A(t,n,l)},d(a){a&&r(e),t.block.d(a),t.token=null,t=null}}}function W(n){let e,t,a,l=n[4]+"",h,o,s,c,E,y,m,T,I,D;return{c(){e=d("div"),t=d("h3"),a=g("Error: "),h=g(l),o=$(),s=d("div"),c=d("button"),E=g("Try again"),y=$(),m=d("button"),T=g("Register Instead"),this.h()},l(x){e=f(x,"DIV",{class:!0});var b=p(e);t=f(b,"H3",{class:!0});var R=p(t);a=v(R,"Error: "),h=v(R,l),R.forEach(r),o=C(b),s=f(b,"DIV",{class:!0});var w=p(s);c=f(w,"BUTTON",{class:!0});var H=p(c);E=v(H,"Try again"),H.forEach(r),y=C(w),m=f(w,"BUTTON",{class:!0});var L=p(m);T=v(L,"Register Instead"),L.forEach(r),w.forEach(r),b.forEach(r),this.h()},h(){_(t,"class","text-center text-3xl mt-10 text-error"),_(c,"class","btn btn-primary mt-5"),_(m,"class","btn btn-success mt-5"),_(s,"class","flex flex-row space-x-3"),_(e,"class","flex flex-col items-center")},m(x,b){k(x,e,b),i(e,t),i(t,a),i(t,h),i(e,o),i(e,s),i(s,c),i(c,E),i(s,y),i(s,m),i(m,T),I||(D=[O(c,"click",n[3]),O(m,"click",n[2])],I=!0)},p:u,d(x){x&&r(e),I=!1,M(D)}}}function j(n){return{c:u,l:u,m:u,p:u,d:u}}function z(n){let e,t,a,l,h;return{c(){e=d("h1"),t=g("Logging in..."),a=$(),l=d("h2"),h=g("You should have a popup to login with Google."),this.h()},l(o){e=f(o,"H1",{class:!0});var s=p(e);t=v(s,"Logging in..."),s.forEach(r),a=C(o),l=f(o,"H2",{class:!0});var c=p(l);h=v(c,"You should have a popup to login with Google."),c.forEach(r),this.h()},h(){_(e,"class","text-center text-5xl mt-10 text-white"),_(l,"class","text-center text-3xl mt-5 text-white")},m(o,s){k(o,e,s),i(e,t),k(o,a,s),k(o,l,s),i(l,h)},p:u,d(o){o&&r(e),o&&r(a),o&&r(l)}}}function F(n){let e,t=n[0]&&V(n);return{c(){e=d("div"),t&&t.c(),this.h()},l(a){e=f(a,"DIV",{class:!0});var l=p(e);t&&t.l(l),l.forEach(r),this.h()},h(){_(e,"class","items-center")},m(a,l){k(a,e,l),t&&t.m(e,null)},p(a,[l]){a[0]?t?t.p(a,l):(t=V(a),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:u,o:u,d(a){a&&r(e),t&&t.d()}}}function J(n,e,t){U.auth.getUser().then(s=>{s.data.user&&(window.location.href="/dashboard")});async function a(){await U.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/callback"}})}let l=!1;return S(()=>t(0,l=!0)),[l,a,()=>location.replace("/register"),()=>location.reload()]}class X extends q{constructor(e){super(),B(this,e,J,F,G,{})}}export{X as default};
