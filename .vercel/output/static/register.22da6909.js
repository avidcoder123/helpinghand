import{S as V,i as q,s as B,e as d,c as f,b as p,f as r,h as _,k,o as u,x as G,q as S,u as N,v as Y,t as v,a as $,d as g,g as A,l as i,n as O,r as M}from"./chunks/index.d6ca2185.js";import{s as R}from"./chunks/backend.3a7ea2ee.js";import"./chunks/_commonjsHelpers.eeb557de.js";function U(n){let e,t={ctx:n,current:null,token:null,hasCatch:!0,pending:z,then:j,catch:W,error:4};return S(n[1](),t),{c(){e=N(),t.block.c()},l(a){e=N(),t.block.l(a)},m(a,o){k(a,e,o),t.block.m(a,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(a,o){n=a,Y(t,n,o)},d(a){a&&r(e),t.block.d(a),t.token=null,t=null}}}function W(n){let e,t,a,o=n[4]+"",h,l,s,c,y,E,m,T,I,C;return{c(){e=d("div"),t=d("h3"),a=v("Error: "),h=v(o),l=$(),s=d("div"),c=d("button"),y=v("Try again"),E=$(),m=d("button"),T=v("Login Instead"),this.h()},l(x){e=f(x,"DIV",{class:!0});var b=p(e);t=f(b,"H3",{class:!0});var L=p(t);a=g(L,"Error: "),h=g(L,o),L.forEach(r),l=A(b),s=f(b,"DIV",{class:!0});var w=p(s);c=f(w,"BUTTON",{class:!0});var D=p(c);y=g(D,"Try again"),D.forEach(r),E=A(w),m=f(w,"BUTTON",{class:!0});var H=p(m);T=g(H,"Login Instead"),H.forEach(r),w.forEach(r),b.forEach(r),this.h()},h(){_(t,"class","text-center text-3xl mt-10 text-error"),_(c,"class","btn btn-primary mt-5"),_(m,"class","btn btn-success mt-5"),_(s,"class","flex flex-row space-x-3"),_(e,"class","flex flex-col items-center")},m(x,b){k(x,e,b),i(e,t),i(t,a),i(t,h),i(e,l),i(e,s),i(s,c),i(c,y),i(s,E),i(s,m),i(m,T),I||(C=[O(c,"click",n[2]),O(m,"click",n[3])],I=!0)},p:u,d(x){x&&r(e),I=!1,M(C)}}}function j(n){return{c:u,l:u,m:u,p:u,d:u}}function z(n){let e,t,a,o,h;return{c(){e=d("h1"),t=v("Registering Account"),a=$(),o=d("h2"),h=v("You should have a popup to register with Google."),this.h()},l(l){e=f(l,"H1",{class:!0});var s=p(e);t=g(s,"Registering Account"),s.forEach(r),a=A(l),o=f(l,"H2",{class:!0});var c=p(o);h=g(c,"You should have a popup to register with Google."),c.forEach(r),this.h()},h(){_(e,"class","text-center text-5xl mt-10 text-white"),_(o,"class","text-center text-3xl mt-5 text-white")},m(l,s){k(l,e,s),i(e,t),k(l,a,s),k(l,o,s),i(o,h)},p:u,d(l){l&&r(e),l&&r(a),l&&r(o)}}}function F(n){let e,t=n[0]&&U(n);return{c(){e=d("div"),t&&t.c(),this.h()},l(a){e=f(a,"DIV",{class:!0});var o=p(e);t&&t.l(o),o.forEach(r),this.h()},h(){_(e,"class","items-center")},m(a,o){k(a,e,o),t&&t.m(e,null)},p(a,[o]){a[0]?t?t.p(a,o):(t=U(a),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:u,o:u,d(a){a&&r(e),t&&t.d()}}}function J(n,e,t){R.auth.getUser().then(s=>{s.data.user&&(window.location.href="/dashboard")});async function a(){await R.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/survey"}})}let o=!1;return G(()=>t(0,o=!0)),[o,a,()=>location.reload(),()=>location.replace("/login")]}class X extends V{constructor(e){super(),q(this,e,J,F,B,{})}}export{X as default};
